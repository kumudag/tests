include tests-shared.cfg
username = root
password = 123456
nettype = bridge
netdst = virbr0
display = nographic
vga = none
take_regular_screendumps = no
keep_screendumps_on_error = no
keep_screendumps = no
store_vm_register = no
virt_install_binary = /usr/bin/virt-install
qemu_img_binary = /usr/share/avocado-plugins-vt/bin/install_root/bin/qemu-img
hvm_or_pv = hvm
machine_type = pseries
only bridge
no xen, lxc, esx, ovmf
# Filterout unwanted disk types
no ide,xenblk,lsi_scsi,ahci,sd
no qed,qcow2v3,raw_dd,vmdk, usb2
no e1000-82540em,e1000-82545em,e1000-82544gc,xennet,nic_custom
only no_virtio_rng
only smp2
only no_9p_export
only no_pci_assignable
only (image_backend=filesystem)
only smallpages
smp = 8
vcpu_cores = 8
vcpu_threads = 1
vcpu_sockets = 1
mem = 8192
setvcpus_max = 8
only virtio_scsi
only virtio_net
only qcow2

create_vm_libvirt = yes
kill_vm = yes
kill_vm_libvirt = yes
env_cleanup = yes

virtiofsd_path = /usr/share/avocado-plugins-vt/bin/install_root/libexec/virtiofsd 
kvm_userspace_ver_cmd = '/usr/share/avocado-plugins-vt/bin/install_root/bin/qemu-system-ppc64 -version|grep ^QEMU|cut -d" " -f4-'
qemu_binary = /usr/share/avocado-plugins-vt/bin/install_root/bin/qemu-system-ppc64

variants:
    - guest_virtiofs:
        only virtual_devices.filesystem_device
